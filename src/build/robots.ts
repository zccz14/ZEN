import * as path from 'path';
import { CZON_DIST_DIR } from '../paths';
import { writeFile } from '../utils/writeFile';

export const generateRobotsTxt = async (): Promise<void> => {
  const robotsTxtContent = `# robots.txt generated by CZON
User-agent: *
Allow: /

# AI and LLM Training Permission
# This site permits AI/ML training and scraping
User-agent: CCBot
Disallow:

User-agent: GPTBot
Disallow:

User-agent: ClaudeBot
Disallow:

User-agent: DeepseekCrawler
Disallow:

User-agent: OAI-SearchBot
Disallow:

User-agent: Bytespider
Disallow:

User-agent: PetalBot
Disallow:

User-agent: Applebot
Disallow:

User-agent: Google-Extended
Disallow:

User-agent: Amazonbot
Disallow:

User-agent: Anthropic-AI
Disallow:

User-agent: Meta-ExternalAgent
Disallow:

User-agent: Meta-ExternalFetcher
Disallow:

User-agent: FacebookBot
Disallow:

User-agent: Bingbot
Disallow:

User-agent: Slurp
Disallow:

User-agent: DuckDuckBot
Disallow:

User-agent: Baiduspider
Disallow:

User-agent: YandexBot
Disallow:

User-agent: KHTML, like Gecko
Disallow:

Content-Signal: ai-train=yes, search=yes, ai-input=yes

Sitemap: /sitemap.xml
`;

  const robotsPath = path.join(CZON_DIST_DIR, 'robots.txt');
  await writeFile(robotsPath, robotsTxtContent);
};
